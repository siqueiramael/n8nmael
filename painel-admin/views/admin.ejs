<%- include('partials/header') %>
<%- include('partials/menu') %>

<h2>Painel de Preços</h2>

<form class="row g-3" method="POST" action="/admin/precos">
  <div class="col-md-2">
    <select class="form-select" name="tipo_local" required>
      <option value="quiosque">Quiosque</option>
      <option value="barracao">Barracão</option>
    </select>
  </div>
  <div class="col-md-1">
    <input type="number" name="numero" class="form-control" placeholder="Número">
  </div>
  <div class="col-md-2">
    <input type="number" name="valor" class="form-control" placeholder="Valor" step="0.01" required>
  </div>
  <div class="col-md-2">
    <input type="date" name="data_inicio" class="form-control" required>
  </div>
  <div class="col-md-2">
    <input type="date" name="data_fim" class="form-control">
  </div>
  <div class="col-md-3">
    <input type="text" name="motivo" class="form-control" placeholder="Motivo (opcional)">
  </div>
  <div class="col-md-12 text-end">
    <button type="submit" class="btn btn-primary">Salvar</button>
  </div>
</form>

<hr>
<h4>Preços Atuais</h4>
<table class="table table-striped">
  <thead><tr><th>ID</th><th>Tipo</th><th>Número</th><th>Valor</th><th>Início</th><th>Fim</th><th>Motivo</th></tr></thead>
  <tbody>
    <% precos.forEach(p => { %>
      <tr>
        <td><%= p.id %></td>
        <td><%= p.tipo_local %></td>
        <td><%= p.numero %></td>
        <td>R$ <%= Number(p.valor).toFixed(2) %></td>
        <td><%= p.data_inicio %></td>
        <td><%= p.data_fim || '-' %></td>
        <td><%= p.motivo || '-' %></td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('partials/footer') %>
