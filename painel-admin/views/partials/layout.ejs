<%- include('./header') %>
<%- include('./menu') %>

<div class="container-fluid main-content">
  <!-- Breadcrumbs -->
  <%- include('./breadcrumbs') %>
  
  <!-- Verificação de Permissões -->
  <% if (typeof requiredPermission !== 'undefined' && requiredPermission) { %>
    <script>
      if (!window.userPermissions.hasPermission('<%= requiredPermission %>')) {
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelector('.main-content').innerHTML = `
            <div class="access-denied">
              <i class="fas fa-shield-alt fa-3x mb-3"></i>
              <h3>Acesso Negado</h3>
              <p>Você não tem permissão para acessar esta página.</p>
              <p>Permissão necessária: <code><%= requiredPermission %></code></p>
              <a href="/admin" class="btn btn-primary mt-3">
                <i class="fas fa-home"></i> Voltar ao Início
              </a>
            </div>
          `;
        });
      }
    </script>
  <% } %>
  
  <!-- Conteúdo da Página -->
  <div class="row">
    <div class="col-12">
      <!-- O conteúdo específico da página será inserido aqui -->