<%- include('../partials/header') %>
<%- include('../partials/menu') %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Gerenciamento de Clientes</h2>
  <a href="/admin/clientes/novo" class="btn btn-primary">Novo Cliente</a>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome</th>
      <th>Telefone</th>
      <th>WhatsApp</th>
      <th>Status</th>
      <th>Data Cadastro</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <% clientes.forEach(cliente => { %>
      <tr>
        <td><%= cliente.id %></td>
        <td><%= cliente.nome %></td>
        <td><%= cliente.telefone %></td>
        <td><%= cliente.telefone_whatsapp || '-' %></td>
        <td>
          <span class="badge <%= cliente.status === 'ativo' ? 'bg-success' : 'bg-danger' %>">
            <%= cliente.status %>
          </span>
        </td>
        <td><%= new Date(cliente.data_cadastro).toLocaleDateString('pt-BR') %></td>
        <td>
          <a href="/admin/clientes/editar/<%= cliente.id %>" class="btn btn-sm btn-outline-primary">Editar</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('../partials/footer') %>